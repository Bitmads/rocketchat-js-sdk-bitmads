{"version":3,"file":"start.js","sourceRoot":"","sources":["../../src/utils/start.ts"],"names":[],"mappings":";;;;;;;;;AAAA,8EAA8E;AAC9E,sDAAuC;AACvC,qCAA4C;AAE5C,+DAA+D;AAC/D;IACE,MAAM,WAAW,GAAG,EAAE,QAAQ,EAAE,gBAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,gBAAO,CAAC,QAAQ,EAAE,CAAA;IAC9E,MAAM,CAAC,OAAO,EAAE;SACf,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;SACrC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,iBAAQ,CAAC,CAAC;SACtC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;SACxC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,EAAE;QACvD,EAAE,CAAC,CAAC,GAAG,CAAC;YAAC,MAAM,GAAG,CAAA;QAClB,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAA;IACxE,CAAC,CAAC,CAAC;SACF,KAAK,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAA,CAAC,qBAAqB;AACnE,CAAC;AAED,KAAK,EAAE,CAAA","sourcesContent":["// Test script uses standard methods and env config to connect and log streams\nimport * as driver from '../lib/driver'\nimport { botUser, botRooms } from './config'\n\n// Start subscription to log message stream (used for e2e test)\nfunction start () {\n  const credentials = { username: botUser.username, password: botUser.password }\n  driver.connect()\n  .then(() => driver.login(credentials))\n  .then(() => driver.joinRooms(botRooms))\n  .then(() => driver.subscribeToMessages())\n  .then(() => driver.reactToMessages((err, msg, msgOpts) => {\n    if (err) throw err\n    console.log('[message]', JSON.stringify(msg), JSON.stringify(msgOpts))\n  }))\n  .catch(() => console.error('START FAILED')) // caught within each\n}\n\nstart()\n"]}