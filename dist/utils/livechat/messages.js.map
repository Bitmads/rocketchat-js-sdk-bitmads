{"version":3,"file":"messages.js","sourceRoot":"","sources":["../../../src/utils/livechat/messages.ts"],"names":[],"mappings":";AAAA,uCAAuC;AACvC,iDAAiD;AACjD,0CAA0C;AAC1C,qFAAqF;AAErF,YAAY;AAEZ,sCAAsC;AACtC,0DAA0D;AAC1D,+BAA+B;AAC/B,kCAAkC;AAClC,uEAAuE;AACvE,uCAAuC;AACvC,MAAM;AAEN,iBAAiB;AACjB,IAAI;AAEJ,2CAA2C;AAC3C,iDAAiD;AACjD,wDAAwD;AACxD,gBAAgB;AAChB,IAAI;AAEJ,+BAA+B;AAC/B,0CAA0C;AAC1C,sCAAsC;AACtC,iCAAiC;AACjC,yEAAyE;AACzE,0EAA0E;AAC1E,8DAA8D;AAC9D,+DAA+D;AAC/D,0CAA0C;AAC1C,uEAAuE;AAEvE,kBAAkB;AAElB,qCAAqC;AAErC,wDAAwD;AACxD,wCAAwC;AAExC,wDAAwD;AACxD,kFAAkF;AAElF,0DAA0D;AAC1D,iFAAiF;AAEjF,4DAA4D;AAC5D,uFAAuF;AAEvF,uEAAuE;AACvE,2FAA2F;AAE3F,6EAA6E;AAC7E,oGAAoG;AAEpG,OAAO;AACP,IAAI;AAEJ,4CAA4C","sourcesContent":["// import * as api from '../../lib/api'\n// import * as settings from '../../lib/settings'\n// import { silence } from '../../lib/log'\n// import { mockVisitor, mockOfflineMessage, mockVisitorNavigation } from '../config'\n\n// silence()\n\n// async function getVisitorToken () {\n//   console.log('\\nPreparing visitor token for tests...')\n//   let token = settings.token\n//   if (!token || token === '') {\n//     const { visitor } = await api.livechat.grantVisitor(mockVisitor)\n//     token = visitor && visitor.token\n//   }\n\n//   return token\n// }\n\n// async function getRoom (token: string) {\n//   console.log('\\nPreparing room for tests...')\n//   const { room } = await api.livechat.room({ token })\n//   return room\n// }\n\n// async function messages () {\n//   const token = await getVisitorToken()\n//   const room = await getRoom(token)\n//   const rid = room && room._id\n//   const newMessage = { token, rid, msg: 'sending livechat message..' }\n//   const editMessage = { token, rid, msg: 'editing livechat message..' }\n//   const result = await api.livechat.sendMessage(newMessage)\n//   const _id = result && result.message && result.message._id\n//   const roomCredential = { token, rid }\n//   const pageInfo = Object.assign({}, mockVisitorNavigation, { rid })\n\n//   console.log(`\n\n// Demo of API livechat query helpers\n\n// Send Livechat Message \\`api.livechat.sendMessage()\\`:\n// ${JSON.stringify(result, null, '\\t')}\n\n// Edit Livechat Message \\`api.livechat.editMessage()\\`:\n// ${JSON.stringify(await api.livechat.editMessage(_id, editMessage), null, '\\t')}\n\n// Load Livechat Messages \\`api.livechat.loadMessages()\\`:\n// ${JSON.stringify(await api.livechat.loadMessages(rid, { token }), null, '\\t')}\n\n// Delete Livechat Message \\`api.livechat.deleteMessage()\\`:\n// ${JSON.stringify(await api.livechat.deleteMessage(_id, { token, rid }), null, '\\t')}\n\n// Send Livechat Offline Message \\`api.livechat.sendOfflineMessage()\\`:\n// ${JSON.stringify(await api.livechat.sendOfflineMessage(mockOfflineMessage), null, '\\t')}\n\n// Send Livechat Visitor Navigation \\`api.livechat.sendVisitorNavigation()\\`:\n// ${JSON.stringify(await api.livechat.sendVisitorNavigation(roomCredential, pageInfo), null, '\\t')}\n\n//   `)\n// }\n\n// messages().catch((e) => console.error(e))\n"]}